{"ast":null,"code":"var _jsxFileName = \"/Users/andersoncastiblanco/Documents/Learning/React-orreilly/making-http-requests/src/App.js\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport \"./App.css\";\nimport MoviesList from \"./components/MoviesList\";\nimport AddMovie from \"./components/AddMovie\";\nimport { addMovie, fetchMovies } from \"./services/moviesService\";\nfunction App() {\n  // const dummyMovies = [\n  //   {\n  //     id: 1,\n  //     title: 'Some Dummy Movie',\n  //     openingText: 'This is the opening text of the movie',\n  //     releaseDate: '2021-05-18',\n  //   },\n  //   {\n  //     id: 2,\n  //     title: 'Some Dummy Movie 2',\n  //     openingText: 'This is the second opening text of the movie',\n  //     releaseDate: '2021-05-19',\n  //   },\n  // ];\n  const [moviesList, setMoviesList] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const addMovieHandler = async movie => {\n    await addMovie(movie);\n    await fetchMovies(setIsLoading, setMoviesList, setError);\n  };\n  const fetchMoviesHandler = useCallback(async () => {\n    await fetchMovies(setIsLoading, setMoviesList, setError);\n  }, []);\n  useEffect(() => {\n    fetchMoviesHandler();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"add-movie-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AddMovie, {\n    onAddMovie: addMovieHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"fetch-movie-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: fetchMoviesHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"Fetch Movies\")), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"list-movie-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, !isLoading && moviesList.length > 0 && /*#__PURE__*/React.createElement(MoviesList, {\n    movies: moviesList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }), !isLoading && moviesList.length === 0 && !error && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"No movies found.\"), !isLoading && error && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 33\n    }\n  }, error), isLoading && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 23\n    }\n  }, \"Loading...\")));\n}\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","useCallback","MoviesList","AddMovie","addMovie","fetchMovies","App","moviesList","setMoviesList","isLoading","setIsLoading","error","setError","addMovieHandler","movie","fetchMoviesHandler","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onAddMovie","onClick","length","movies"],"sources":["/Users/andersoncastiblanco/Documents/Learning/React-orreilly/making-http-requests/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\n\nimport \"./App.css\";\nimport MoviesList from \"./components/MoviesList\";\nimport AddMovie from \"./components/AddMovie\";\nimport { addMovie, fetchMovies } from \"./services/moviesService\";\n\nfunction App() {\n  // const dummyMovies = [\n  //   {\n  //     id: 1,\n  //     title: 'Some Dummy Movie',\n  //     openingText: 'This is the opening text of the movie',\n  //     releaseDate: '2021-05-18',\n  //   },\n  //   {\n  //     id: 2,\n  //     title: 'Some Dummy Movie 2',\n  //     openingText: 'This is the second opening text of the movie',\n  //     releaseDate: '2021-05-19',\n  //   },\n  // ];\n  const [moviesList, setMoviesList] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const addMovieHandler = async (movie) => {\n    await addMovie(movie);\n    await fetchMovies(setIsLoading, setMoviesList, setError);\n  };\n\n  const fetchMoviesHandler = useCallback(async () => {\n    await fetchMovies(setIsLoading, setMoviesList, setError);\n  }, []);\n\n  useEffect(() => {\n    fetchMoviesHandler();\n  }, []);\n\n  return (\n    <>\n      <section className=\"add-movie-container\">\n        <AddMovie onAddMovie={addMovieHandler} />\n      </section>\n      <section className=\"fetch-movie-container\">\n        <button onClick={fetchMoviesHandler}>Fetch Movies</button>\n      </section>\n      <section className=\"list-movie-container\">\n        {!isLoading && moviesList.length > 0 && (\n          <MoviesList movies={moviesList} />\n        )}\n        {!isLoading && moviesList.length === 0 && !error && (\n          <p>No movies found.</p>\n        )}\n        {!isLoading && error && <p>{error}</p>}\n        {isLoading && <p>Loading...</p>}\n      </section>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAE/D,OAAO,WAAW;AAClB,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,SAASC,QAAQ,EAAEC,WAAW,QAAQ,0BAA0B;AAEhE,SAASC,GAAGA,CAAA,EAAG;EACb;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMc,eAAe,GAAG,MAAOC,KAAK,IAAK;IACvC,MAAMV,QAAQ,CAACU,KAAK,CAAC;IACrB,MAAMT,WAAW,CAACK,YAAY,EAAEF,aAAa,EAAEI,QAAQ,CAAC;EAC1D,CAAC;EAED,MAAMG,kBAAkB,GAAGd,WAAW,CAAC,YAAY;IACjD,MAAMI,WAAW,CAACK,YAAY,EAAEF,aAAa,EAAEI,QAAQ,CAAC;EAC1D,CAAC,EAAE,EAAE,CAAC;EAENZ,SAAS,CAAC,MAAM;IACde,kBAAkB,CAAC,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEjB,KAAA,CAAAkB,aAAA,CAAAlB,KAAA,CAAAmB,QAAA,qBACEnB,KAAA,CAAAkB,aAAA;IAASE,SAAS,EAAC,qBAAqB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtC1B,KAAA,CAAAkB,aAAA,CAACb,QAAQ;IAACsB,UAAU,EAAEZ,eAAgB;IAAAM,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACjC,CAAC,eACV1B,KAAA,CAAAkB,aAAA;IAASE,SAAS,EAAC,uBAAuB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxC1B,KAAA,CAAAkB,aAAA;IAAQU,OAAO,EAAEX,kBAAmB;IAAAI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,cAAoB,CAClD,CAAC,eACV1B,KAAA,CAAAkB,aAAA;IAASE,SAAS,EAAC,sBAAsB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACtC,CAACf,SAAS,IAAIF,UAAU,CAACoB,MAAM,GAAG,CAAC,iBAClC7B,KAAA,CAAAkB,aAAA,CAACd,UAAU;IAAC0B,MAAM,EAAErB,UAAW;IAAAY,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAClC,EACA,CAACf,SAAS,IAAIF,UAAU,CAACoB,MAAM,KAAK,CAAC,IAAI,CAAChB,KAAK,iBAC9Cb,KAAA,CAAAkB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,kBAAmB,CACvB,EACA,CAACf,SAAS,IAAIE,KAAK,iBAAIb,KAAA,CAAAkB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAIb,KAAS,CAAC,EACrCF,SAAS,iBAAIX,KAAA,CAAAkB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,YAAa,CACvB,CACT,CAAC;AAEP;AAEA,eAAelB,GAAG"},"metadata":{},"sourceType":"module"}