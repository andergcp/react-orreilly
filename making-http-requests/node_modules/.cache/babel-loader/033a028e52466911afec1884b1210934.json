{"ast":null,"code":"var _jsxFileName = \"/Users/andersoncastiblanco/Documents/Learning/React-orreilly/making-http-requests/src/App.js\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport dotenv from \"dotenv\";\nimport \"./App.css\";\nimport MoviesList from \"./components/MoviesList\";\nimport AddMovie from \"./components/AddMovie\";\nimport { addMovie, fetchMovies } from \"./services/moviesService\";\ndotenv.config();\nfunction App() {\n  // const dummyMovies = [\n  //   {\n  //     id: 1,\n  //     title: 'Some Dummy Movie',\n  //     openingText: 'This is the opening text of the movie',\n  //     releaseDate: '2021-05-18',\n  //   },\n  //   {\n  //     id: 2,\n  //     title: 'Some Dummy Movie 2',\n  //     openingText: 'This is the second opening text of the movie',\n  //     releaseDate: '2021-05-19',\n  //   },\n  // ];\n  const [moviesList, setMoviesList] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const addMovieHandler = async movie => {\n    await addMovie(movie);\n    await fetchMovies(setIsLoading, setMoviesList, setError);\n  };\n  const fetchMoviesHandler = useCallback(async () => {\n    await fetchMovies(setIsLoading, setMoviesList, setError);\n  }, []);\n  useEffect(() => {\n    fetchMoviesHandler();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AddMovie, {\n    onAddMovie: addMovieHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: fetchMoviesHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Fetch Movies\")), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, !isLoading && moviesList.length > 0 && /*#__PURE__*/React.createElement(MoviesList, {\n    movies: moviesList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }), !isLoading && moviesList.length === 0 && !error && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, \"No movies found.\"), !isLoading && error && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 33\n    }\n  }, error), isLoading && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 23\n    }\n  }, \"Loading...\")));\n}\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","useCallback","dotenv","MoviesList","AddMovie","addMovie","fetchMovies","config","App","moviesList","setMoviesList","isLoading","setIsLoading","error","setError","addMovieHandler","movie","fetchMoviesHandler","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onAddMovie","onClick","length","movies"],"sources":["/Users/andersoncastiblanco/Documents/Learning/React-orreilly/making-http-requests/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport dotenv from \"dotenv\";\n\nimport \"./App.css\";\nimport MoviesList from \"./components/MoviesList\";\nimport AddMovie from \"./components/AddMovie\";\nimport { addMovie, fetchMovies } from \"./services/moviesService\";\n\ndotenv.config();\nfunction App() {\n  // const dummyMovies = [\n  //   {\n  //     id: 1,\n  //     title: 'Some Dummy Movie',\n  //     openingText: 'This is the opening text of the movie',\n  //     releaseDate: '2021-05-18',\n  //   },\n  //   {\n  //     id: 2,\n  //     title: 'Some Dummy Movie 2',\n  //     openingText: 'This is the second opening text of the movie',\n  //     releaseDate: '2021-05-19',\n  //   },\n  // ];\n  const [moviesList, setMoviesList] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const addMovieHandler = async (movie) => {\n    await addMovie(movie);\n    await fetchMovies(setIsLoading, setMoviesList, setError);\n  };\n\n  const fetchMoviesHandler = useCallback(async () => {\n    await fetchMovies(setIsLoading, setMoviesList, setError);\n  }, []);\n\n  useEffect(() => {\n    fetchMoviesHandler();\n  }, []);\n\n  return (\n    <>\n      <section>\n        <AddMovie onAddMovie={addMovieHandler} />\n      </section>\n      <section>\n        <button onClick={fetchMoviesHandler}>Fetch Movies</button>\n      </section>\n      <section>\n        {!isLoading && moviesList.length > 0 && (\n          <MoviesList movies={moviesList} />\n        )}\n        {!isLoading && moviesList.length === 0 && !error && (\n          <p>No movies found.</p>\n        )}\n        {!isLoading && error && <p>{error}</p>}\n        {isLoading && <p>Loading...</p>}\n      </section>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}